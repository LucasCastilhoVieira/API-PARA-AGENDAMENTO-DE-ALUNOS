<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('static', path='./css/stylepaginicialadm.css')}}">
    <link rel="icon" href="static/img/logocps.png" type="image/x-icon">
    <title>Pagina Inicial</title>
 <style>

.items ul li.active a {
    background: rgba(255, 255, 255, 0.4); /* Fundo mais claro para o item ativo */
    color: #fff; /* Mantém o texto branco */
    font-weight: bold; /* Destaca o texto */
    transform: translateX(10px); /* Destaca visualmente */
}

 </style>
</head>

<body>
    <div class="nomes">
        Olá, {{nome}}!
    </div>

    <div class="menu-container">
        <img src="{{url_for('static', path='/img/cs.png')}}" class="logo">


        <div class="items">
            <ul>
                <li class="{% if current_path == url_for('CriarBanco') %}active{% endif %}">
                    <a href="{{ url_for('CriarBanco') }}">Lista</a>
                </li> <br>
                <li class="{% if current_path == url_for('Cardapio') %}active{% endif %}">
                    <a href="{{ url_for('Cardapio') }}">Cardápio</a>
                </li> <br>
                <li class="{% if current_path == url_for('Busca') %}active{% endif %}">
                    <a href="{{ url_for('Busca') }}">Buscar Aluno</a>
                </li> <br>
                <li class="{% if current_path == url_for('ADM') %}active{% endif %}">
                    <a href="{{ url_for('ADM') }}" class="bla" style= "
                    background: rgba(255, 255, 255, 0.2);
                    
                ">Dashboard</a>
                </li> <br>
                <br>
                <p></p>
                <li class="sair"><a href={{ url_for('Admin') }}> Sair </a></li>

            </ul>
        </div>
    </div>
    </div>

    <script>
        async function atualizarDados() {
            try {
           
                const response = await fetch('/dados-atualizados');
                const data = await response.json();

 
                document.getElementById('counter').textContent = data.counter;
                document.getElementById('countertotal').textContent = data.counterpresente;
            } catch (error) {
                console.error("Erro ao atualizar dados:", error);
            }
        }

     
        setInterval(atualizarDados, 1000);

   
        document.addEventListener("DOMContentLoaded", atualizarDados);
    </script>
</head>
<body>
    <div class="container">
    <div class="small-box">
        <div class="inner">
            <h3 id="counter">0</h3> 
            <br>
            <p>Alunos Agendados</p>
        </div>
        <div class="icon">
            <i class="fa fa-users"></i>
        </div>
    </div>


    <div class="total-alunos">
        <div class="inner">
            <h3 id="countertotal">0</h3> 
            <br>
            <p>Alunos online</p>
        </div>
        <div class="icon">
            <i class="fa fa-users"></i>
        </div>
    </div>



<img src="{{url_for('static', path='/img/logocps.png')}}" class="cps">
</div>
    
    

</body>
</html>